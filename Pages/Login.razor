@page "/"
@using StockApp.Models;
@inject ILocalStorageService LocalStorage

<PageTitle>Login</PageTitle>

<!-- Page Content -->
<div class="container px-4 px-lg-5">
    <!-- Login Row -->
    <div class="row gx-4 gx-lg-5 align-items-center my-5">
        <div class="col-lg-5">
            <h1 class="font-weight-light">Login</h1>
            <EditForm Model="@user" OnValidSubmit="ValidateUser">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" class="form-control" id="username" @bind="user.userName" placeholder="Enter username">
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" class="form-control" id="password" @bind="user.userPassword"  placeholder="Enter password">
                </div>
                <button type="submit" class="btn btn-primary">Login</button>
                <button type="submit" class="btn btn-primary"asp-page="/welcome" @onclick="RegisterUser">Register</button>
            </EditForm>
        </div>
    </div>
</div>

@code {
    private User user;
    protected override Task OnInitializedAsync()
    {
        user = new User();
        return base.OnInitializedAsync();
    }
    private async Task<bool> ValidateUser()
    {
        return await Task.FromResult(true);
    }
    private async Task RegisterUser()
    {
        //NavigationManager? navigate= null;
        //await LocalStorage.SetItemAsync("userName",user.userName);
        //await LocalStorage.SetItemAsync("userPassword",user.userPassword);
        //navigate.NavigateTo("/welcome");
    }
}

